[{"body": "Also see http://www.quora.com/In-A-B-Testing-how-many-conversions-do-you-need-per-variation-for-the-results-to-be-significant\r\n\r\nIan Clarke proposes a probability weighed display of alternates: pick a number from the beta distribution and show the alternate which has the biggest number. The end result is that the alternates with good conversion rates are shown more than the ones with poor rates.", "name": null, "comment_type": "comment", "created_at": "2011/12/29 12:55:25 -0800", "post_id": 91157488, "user": {"body": "I am much more prolific in Twitter. See http://twitter.com/arsatiki\r\n", "profile_pic": "http://files.posterous.com/user_profile_pics/30986/che_baarissa_ilman_paitaa.png", "display_name": "Antti Rasinen", "firstname": "Antti", "lastname": "Rasinen", "profile_image_35": "http://files.posterous.com/user_profile_pics/30986/che_baarissa_ilman_paitaa_thumb.png", "last_activity": "2012/02/23 08:30:10 -0800", "nickname": "Antti", "id": 29785, "profile_url": "http://posterous.com/users/KPdfsrBQmB"}, "id": 10288854}, {"body": "Nice work.  I had actually written some ruby code to do the exact integration (using GMP rationals), but my laptop died before I had a chance to post it, and I sort of lost the motivation to do so.  It's still sitting on the hard drive...you may have just convinced me to dig out the old thing and finally post part 3.  I'll try to get it posted around the 2nd week of January.", "name": "SirEvanHaas", "comment_type": "comment", "created_at": "2011/12/29 15:42:20 -0800", "post_id": 91157488, "id": 10289329}, {"body": "Great post. You may find this other post by John D Cook interesting: http://www.johndcook.com/blog/2011/09/27/bayesian-amazon/ . He comes to the same conclusion as you but doesn't give as thorough an explanation.\r\n\r\nI'd be curious to see the relationship between the bayesian probabilities produced by your code and values coming out of the G-test for various (s_1, s_2, f_1, f_2) combinations. I'd wager there's a relationship where they approximate each other. ", "name": "snoble", "comment_type": "comment", "created_at": "2011/12/29 16:09:17 -0800", "post_id": 91157488, "id": 10289392}, {"body": "I'd like to highlight the other important point in Ian Clarke's presentation, namely, you can use other priors as well.\r\n\r\nAfter all, the prior is supposed to be \"everything you know before you saw the data\". If you know your conversion rates tend to be around 5%, Beta(6,96) is a sensible prior. And so is Beta(51,951), but with less variance. The nice thing is that a) it doesn't matter which prior you pick; in the long run data will dominate, and b) it's easy to estimate the effects of the prior vs data by thinking them as events that have already been seen.\r\n\r\nFinally, even though there is an accurate solution for the integer counts, simulation is also very nice. It's trivial to extend to new cases (A/B/C testing) and to ask different queries. Let's say you report to the boss \"The A option is very likely superior (p=99%), with a 5.7% conversion rate\", and the boss wants to know how reliable is the conversion rate estimate. Easy: compute 1000 samples, and report 25th and 975th as the 95% confidence interval.", "name": null, "comment_type": "comment", "created_at": "2011/12/30 05:05:04 -0800", "post_id": 91157488, "user": {"body": null, "profile_pic": "http://posterous.com/images/profile/missing-user-75.png", "display_name": "Lasse Rasinen", "firstname": "Lasse", "lastname": "Rasinen", "profile_image_35": "http://posterous.com/images/profile/missing-user-75.png", "last_activity": "2012/08/25 05:46:12 -0700", "nickname": "lrasinen", "id": 2107923, "profile_url": "http://posterous.com/users/cPuxiaUQYd1lo"}, "id": 10291110}, {"body": "Evan: What wonderful news! (Except the bit about the laptop dying, but dying is their nature.) I'd really love to see Part III. I don't think I am the only one either.\r\n\r\nToday I've had the most persistent bug of wanting to write a C version of the above code with all the possible optimizations I can think of. Let's see if the feeling passes =)", "name": null, "comment_type": "comment", "created_at": "2011/12/30 11:46:54 -0800", "post_id": 91157488, "user": {"body": "I am much more prolific in Twitter. See http://twitter.com/arsatiki\r\n", "profile_pic": "http://files.posterous.com/user_profile_pics/30986/che_baarissa_ilman_paitaa.png", "display_name": "Antti Rasinen", "firstname": "Antti", "lastname": "Rasinen", "profile_image_35": "http://files.posterous.com/user_profile_pics/30986/che_baarissa_ilman_paitaa_thumb.png", "last_activity": "2012/02/23 08:30:10 -0800", "nickname": "Antti", "id": 29785, "profile_url": "http://posterous.com/users/KPdfsrBQmB"}, "id": 10292258}, {"body": "snoble: Amazing. I read that article back in September\u2026 but since I didn't know about the role of the beta distribution I've never made the connection. Thank you for bringing it up!\r\n\r\nYour idea of tabulating the various tests is a good one. I'll start thinking about it. Sadly the 4d parameter space makes naive visualization impossible. Perhaps some sort of an interactive Javascript-enhanced tool.\r\n\r\nHonestly, with my current velocity it might take another 1,5 years to complete\u2026\r\n\r\nI'd assume the tests all work the same when there is a lot of data. After all, the binomial distribution looks like a Gaussian with large enough n. The interesting thing would be to map where the transition from \"reject\" to \"accept\" happens. Ponder ponder.", "name": null, "comment_type": "comment", "created_at": "2011/12/30 12:24:24 -0800", "post_id": 91157488, "user": {"body": "I am much more prolific in Twitter. See http://twitter.com/arsatiki\r\n", "profile_pic": "http://files.posterous.com/user_profile_pics/30986/che_baarissa_ilman_paitaa.png", "display_name": "Antti Rasinen", "firstname": "Antti", "lastname": "Rasinen", "profile_image_35": "http://files.posterous.com/user_profile_pics/30986/che_baarissa_ilman_paitaa_thumb.png", "last_activity": "2012/02/23 08:30:10 -0800", "nickname": "Antti", "id": 29785, "profile_url": "http://posterous.com/users/KPdfsrBQmB"}, "id": 10292356}, {"body": "Lasse: Good points. The beta distribution has an alternative parametrization, where you specify the mean and the sample size. That would be a handy way to describe a more informative prior: \"I'd expect the mean to be 5% with a prior sample size of 15\"\r\n\r\nOf course, then you'd most likely end up with non-integer parameters, which could impact the algorithm above.", "name": null, "comment_type": "comment", "created_at": "2011/12/30 12:29:22 -0800", "post_id": 91157488, "user": {"body": "I am much more prolific in Twitter. See http://twitter.com/arsatiki\r\n", "profile_pic": "http://files.posterous.com/user_profile_pics/30986/che_baarissa_ilman_paitaa.png", "display_name": "Antti Rasinen", "firstname": "Antti", "lastname": "Rasinen", "profile_image_35": "http://files.posterous.com/user_profile_pics/30986/che_baarissa_ilman_paitaa_thumb.png", "last_activity": "2012/02/23 08:30:10 -0800", "nickname": "Antti", "id": 29785, "profile_url": "http://posterous.com/users/KPdfsrBQmB"}, "id": 10292365}, {"body": "With the alpha-beta parameterization and a given r, you can get pretty close to any desired n, even if you fix one of the two to be an integer. \r\n\r\nI think the error for n is at most 0.5, but it's too close to 2012 for me to prove it :)", "name": null, "comment_type": "comment", "created_at": "2011/12/31 12:59:43 -0800", "post_id": 91157488, "user": {"body": null, "profile_pic": "http://posterous.com/images/profile/missing-user-75.png", "display_name": "Lasse Rasinen", "firstname": "Lasse", "lastname": "Rasinen", "profile_image_35": "http://posterous.com/images/profile/missing-user-75.png", "last_activity": "2012/08/25 05:46:12 -0700", "nickname": "lrasinen", "id": 2107923, "profile_url": "http://posterous.com/users/cPuxiaUQYd1lo"}, "id": 10295562}, {"body": "Great post - thanks! \r\nI've done a JavaScript implementation for visualizing two beta distributions together, here: http://www.peakconversion.com/2012/02/ab-split-test-graphical-calculator/. \r\nI\u2019d be really grateful for feedback from anyone here.\r\nI\u2019m aiming to add a feature for the simulation solution to the P(A>B) question very shortly.", "name": "jmgough", "comment_type": "comment", "created_at": "2012/02/23 04:03:15 -0800", "post_id": 91157488, "id": 10603913}, {"body": "jmgough: What a nice looking tool! jstat looks like a very useful piece of kit, too. I don't see any reason why it should be limited to just two alternates, though. You could easily plot three or four at the same time.\r\n\r\nMy main feedback isn't with the tool, but rather with the text. Humans are notoriously bad at eyeballing differences in distribution. The tool is great for visualization, but I wouldn't recommend it for decision making on its own. However, you did mention you'll be adding P(A > B), so that'll mitigate the issue. ", "name": null, "comment_type": "comment", "created_at": "2012/02/23 08:30:10 -0800", "post_id": 91157488, "user": {"body": "I am much more prolific in Twitter. See http://twitter.com/arsatiki\r\n", "profile_pic": "http://files.posterous.com/user_profile_pics/30986/che_baarissa_ilman_paitaa.png", "display_name": "Antti Rasinen", "firstname": "Antti", "lastname": "Rasinen", "profile_image_35": "http://files.posterous.com/user_profile_pics/30986/che_baarissa_ilman_paitaa_thumb.png", "last_activity": "2012/02/23 08:30:10 -0800", "nickname": "Antti", "id": 29785, "profile_url": "http://posterous.com/users/KPdfsrBQmB"}, "id": 10605367}, {"body": "Brilliant feedback Antti - really good points. I have made some pretty substantial changes.  Thanks!", "name": "jmgough", "comment_type": "comment", "created_at": "2012/02/26 14:27:37 -0800", "post_id": 91157488, "id": 10622712}]